#### 1、计算带有换行符的字符串高度

```objective-c
    UITextView *textView = [[UITextView alloc] initWithFrame:CGRectMake(0, 0, widht, 0)];
    textView.text = @"111\n111";
    textView.font = [UIFont systemFontOfSize:fontSize];
    CGSize size = CGSizeMake(widht, MAXFLOAT);
    CGSize constraint = [textView sizeThatFits:size];
    return constraint.height;
```

#### 2、\n 和 \r\n

这两个都是换行符，只是在不同的系统中对应不同的格式

#### 3、系统自带的字符串转json，以及json转字典

```objective-c
    NSError * readError;
    NSError * writeError1;
    NSData * data = [self dataUsingEncoding:NSUTF8StringEncoding];
    NSDictionary * dic = [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingMutableContainers error:&readError];
    if (readError) return self;
    NSData * jsonData = [NSJSONSerialization dataWithJSONObject:dic options:NSJSONWritingPrettyPrinted error:&writeError1];
    NSString * formatterStr = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];
    if (writeError1) return self;
```

* 注意点

```
typedef NS_OPTIONS(NSUInteger, NSJSONWritingOptions) {
    NSJSONWritingPrettyPrinted = (1UL << 0), //转换为一整行的字符串
    NSJSONWritingSortedKeys                  //将生成的json数据格式化输出，可读性好，不设置默认就是一整行
    NSJSONWritingFragmentsAllowed = (1UL << 2),
    NSJSONWritingWithoutEscapingSlashes watchos(6.0), tvos(13.0)) = (1UL << 3),
} 
```

```
typedef NS_OPTIONS(NSUInteger, NSJSONReadingOptions) {
    NSJSONReadingMutableContainers = (1UL << 0), //返回可变容器，NSMutableDictionary NSMutableArray.
    NSJSONReadingMutableLeaves = (1UL << 1), // 不仅返回的最外层是可变的, 内部的子数值或字典也是可变对象.
    NSJSONReadingFragmentsAllowed = (1UL << 2), //返回允许JSON字符串最外层既不是NSArray也不是NSDictionary
    NSJSONReadingAllowFragments 
} 
```





